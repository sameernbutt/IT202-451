<table><tr><td> <em>Assignment: </em> IT202 Milestone 2 Shop Project</td></tr>
<tr><td> <em>Student: </em> Sameer Butt (snb22)</td></tr>
<tr><td> <em>Generated: </em> 8/6/2023 1:02:20 AM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT202-451-M23/it202-milestone-2-shop-project/grade/snb22" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <ol><li>Checkout Milestone2 branch</li><li>Create a new markdown file called milestone2.md</li><li>git add/commit/push immediate</li><li>Fill in the below deliverables</li><li>At the end copy the markdown and paste it into milestone2.md</li><li>Add/commit/push the changes to Milestone2</li><li>PR Milestone2 to dev and verify</li><li>PR dev to prod and verify</li><li>Checkout dev locally and pull changes to get ready for Milestone 3</li><li>Submit the direct link to this new milestone2.md file from your GitHub prod branch to Canvas</li></ol><p>Note: Ensure all images appear properly on github and everywhere else. Images are only accepted from dev or prod, not local host. All website links must be from prod (you can assume/infer this by getting your dev URL and changing dev to prod).</p></td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Users with admin or shop owner will be able to add products </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshot of admin create item page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T15.15.07image.png.webp?alt=media&token=ea41d06f-d668-4e33-8e9d-4d1bc818e532"/></td></tr>
<tr><td> <em>Caption:</em> <p>Page where admins or shop owners can create/add products with fields filled in<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshot of populated Products table clearly showing the columns</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T15.19.39image.png.webp?alt=media&token=b57e0b07-4b85-43f7-b24f-10410ae3bcaf"/></td></tr>
<tr><td> <em>Caption:</em> <p>Products table with columns displayed (ucid can be seen in the top left)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly describe the code flow for creating a Product</td></tr>
<tr><td> <em>Response:</em> <p>After confirming the user is either an admin or shop owner, the code<br>sets the said table to Products since we are adding a new product.<br>All the columns are obtained using the reusable get_columns() function. The get_columns() function<br>uses a query that shows the names of the columns from the table<br>and returns an array with all of the column names. Afterwords, as part<br>of a form, a for loop iterates through all of the column names<br>creating a label and input field for each column. In turn, the user<br>will be able to enter information for the product like name and category,<br>and then they can click submit to submit the form when done. The<br>code will check to see if the form is submitted (it is) and<br>run the save_data() function to save the product&#39;s data to the Product table.<br>The save_data() function takes three parameters: the name of the table, the data<br>to be inputted, and an optional parameter set to &quot;submit&quot; which is supposed<br>to ignore a column when inserting data into the table. After sanitizing the<br>table name (Products in this case), the database is obtained with getDB(), and<br>a query is assigned to the $query variable to INSERT data into Products.<br>Then, the code iterates through the columns, excluding the ignored ones, and generates<br>a new array of placeholders used to insert data into the array. Then,<br>these placeholders are used in the $params array and each corresponding value from<br>the data is assigned to the correct placeholder in $params. The statement is<br>then executed with the query and given parameters, which will in turn insert<br>the data of the product into the Products table. Upon success, the function<br>will return the ID of the product using&nbsp;<span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(86, 156, 214);">return</span><span style="background-color: rgb(30, 30, 30); color: rgb(212, 212,<br>212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;"> $db-&gt;lastInsertId() </span>as it was the<br>last item inserted. Then, the website will flash a success message saying the<br>product was successfully created with the ID return by the function. If not,<br>a user-friendly error message will appear.<br><br></p><br></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/49">https://github.com/sameernbutt/IT202-451/pull/49</a> </td></tr>
<tr><td> <em>Sub-Task 5: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://snb22-prod.herokuapp.com/Project/admin/add_item.php">https://snb22-prod.herokuapp.com/Project/admin/add_item.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Any user can see visible products on the Shop Page </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot of the Shop page showing 10 items without filters/sorting applied</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.29.31image.png.webp?alt=media&token=7cbfdab4-bd11-4d04-80bf-4525b5bf2a45"/></td></tr>
<tr><td> <em>Caption:</em> <p>shop with 10 items (user is not logged in)<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot of the Shop page showing both filters and a different sorting applied (should be more than 1 sample product)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.28.15image.png.webp?alt=media&token=007f9980-b851-4cf8-a186-cb15c4116451"/></td></tr>
<tr><td> <em>Caption:</em> <p>Shop with filters (name: test, category:stuff) and sorted by name descending yielding 2<br>sample products<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add a screenshot of the filter/sort logic from the code</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-05T02.36.06image.png.webp?alt=media&token=19fa6480-c507-421f-affa-aed6bc234d0a"/></td></tr>
<tr><td> <em>Caption:</em> <p>Code snippet showing filter/sort logic. UCID and date are visible at the top<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Briefly explain how the results are shown and how the filters are applied</td></tr>
<tr><td> <em>Response:</em> <p>The entire sorting and filtering revolves around adding to the SQL query of<br>the statement used to fetch all the products. First, an array is set<br>up to store what will eventually be all the results from the query,<br>and the database is obtained via getDB(). A query is first set up<br>in the query variable to SELECT all the information from each product in<br>the Products table. Additionally, the code checks if the user has an admin/shop<br>owner role, and if so, it will display all items that are in<br>stock, visible and non-visible. This parameter is added to the query. Otherwise, the<br>user will only see the items where the visibility is set to 1<br>(true), which also will be part of the query. Afterwards, the name and<br>category filters are applied, if they are submitted by the user. The program<br>checks to see if the user submitted anything for the name filter, and<br>if so, it will add&nbsp;<span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color:<br>rgb(206, 145, 120);">&quot; </span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(86,<br>156, 214);">AND</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(206, 145, 120);"><br></span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(86, 156, 214);">name</span><span style="font-family:<br>Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(206, 145, 120);"> </span><span style="font-family: Consolas,<br>&quot;Courier New&quot;, monospace; white-space: pre; color: rgb(86, 156, 214);">like</span><span style="font-family: Consolas, &quot;Courier New&quot;,<br>monospace; white-space: pre; color: rgb(206, 145, 120);"> :</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(86, 156, 214);">name</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;<br>color: rgb(206, 145, 120);">&quot;</span><span style="background-color: rgb(30, 30, 30); color: rgb(212, 212, 212); font-family:<br>Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">; </span>to the query, which would filter out<br>the results it yields only to products that contain the given name in<br>its name. This in turn is applied to the parameter&nbsp;<span style="background-color: rgb(30, 30,<br>30); color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">$params[</span><span style="font-family:<br>Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(206, 145, 120);">&quot;:name&quot;</span><span style="background-color: rgb(30, 30,<br>30); color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">] =<br></span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(206, 145, 120);">&quot;%$name%&quot;</span><span style="background-color:<br>rgb(30, 30, 30); color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space:<br>pre;">;</span>, where will be assigned to the name submitted by the user&#39;s filter.<br>The same logic is used for the category, with the corresponding fields changed<br>from name to category. After that, the column and order variables are obtained<br>and added to the query through&nbsp;<span style="background-color: rgb(30, 30, 30); color: rgb(212, 212,<br>212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">$query </span><span style="background-color: rgb(30, 30, 30);<br>color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">.=</span><span style="background-color: rgb(30,<br>30, 30); color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;"><br></span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(206, 145, 120);">&quot; ORDER<br>BY $col $order&quot;</span><span style="background-color: rgb(30, 30, 30); color: rgb(212, 212, 212); font-family: Consolas,<br>&quot;Courier New&quot;, monospace; white-space: pre;"> </span>which results in the results in the $results<br>array to be sorted by the given sorter in the given direction. All<br>of the user values are obtained through a form at the top of<br>the page which allows the user to sort and filter the items in<br>the shop how they want. Once the filters and sorts are applied to<br>the query, pagination is applied which allows a certain number of items to<br>be showed per page (10 in this case) through the line&nbsp;<span style="color: rgb(206,<br>145, 120); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">&quot;<br>LIMIT :offset, :count&quot;</span>. Once all this has been gathered, a statement is prepared<br>to select the products from the database, and the remaining parameters are set.<br>The statement is executed, and each item is shown in a card. A<br>foreach loop is used to iterate through all the results and display the<br>appropriate information at the appropriate spot with a corresponding label. The name is<br>displayed in the title of the card with mostly everything else in the<br>body and the cost and add to cart button in the footer.<br><br></p><br></td></tr>
<tr><td> <em>Sub-Task 5: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/54">https://github.com/sameernbutt/IT202-451/pull/54</a> </td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/51">https://github.com/sameernbutt/IT202-451/pull/51</a> </td></tr>
<tr><td> <em>Sub-Task 6: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://snb22-prod.herokuapp.com/Project/shop.php">https://snb22-prod.herokuapp.com/Project/shop.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> Show Admin/Shop Owner Product List (this is not the Shop page and should show visibility status) </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Screenshot of the Admin List page/results</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T19.31.51image.png.webp?alt=media&token=5a4c3f6b-18b4-43fa-8720-34a47e295c95"/></td></tr>
<tr><td> <em>Caption:</em> <p>List of all products, both visible and non-visible along with associated information<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Briefly explain how the results are shown</td></tr>
<tr><td> <em>Response:</em> <p>First, a search form is displayed, allowing the user to search for items<br>based on their. The form submits the search query using the POST method.<br>When the form is submitted and the code checks to see if it<br>is submitted, it fetches the search results from the database based on the<br><br>search query. It uses a prepared SQL statement to select items with <br>names<br>containing the search term. These results are stored in the $results array. If<br>the $results array ends up empty, then a message will display saying that<br>there are no items to display. Otherwise, a table will be created. Under<br>the &lt;thead&gt; label, a PHP foreach loop will iterate through the $results array<br>and obtain the titles and display them in heading through iterating through the<br>first array. For the subsequent arrays, the corresponding information will be obtained and<br>displayed beneath the corresponding column.<br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/49">https://github.com/sameernbutt/IT202-451/pull/49</a> </td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://snb22-prod.herokuapp.com/Project/admin/list_items.php">https://snb22-prod.herokuapp.com/Project/admin/list_items.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> Admin/Shop Owner Edit button </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the edit button visible to the Admin on the Shop page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T15.30.57image.png.webp?alt=media&token=cf86ca23-845d-4a18-b234-47289422ea66"/></td></tr>
<tr><td> <em>Caption:</em> <p>public shop page with edit buttons since the user is logged in as<br>an admin<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot showing the edit button visible to the Admin on the Product Details Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.34.01image.png.webp?alt=media&token=35df7209-88be-4309-833a-ef13b0b838ca"/></td></tr>
<tr><td> <em>Caption:</em> <p>Product detail page with edit button at the bottom for admin user<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add a screenshot showing the edit button visible to the Admin on the Admin Product List Page (The admin page)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T19.32.48image.png.webp?alt=media&token=c4a15030-1057-40b7-9c0a-da0fcc5cd20f"/></td></tr>
<tr><td> <em>Caption:</em> <p>edit button on the list page is on the right beneath &quot;Actions&quot;<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a before and after screenshot of Editing a Product via the Admin Edit Product Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.43.10image.png.webp?alt=media&token=7556347b-30ee-41ee-a6ce-66b23b3b2a22"/></td></tr>
<tr><td> <em>Caption:</em> <p>Original Product (Test 1)<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.44.09image.png.webp?alt=media&token=d0044fad-d5b7-4f1c-a648-cfaa09744d81"/></td></tr>
<tr><td> <em>Caption:</em> <p>Clicked edit button to take me to the edit screen. Description has been<br>modified with the new text after the word EDIT<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.44.22image.png.webp?alt=media&token=b281421e-0fa8-4730-a063-b0508c7f63d0"/></td></tr>
<tr><td> <em>Caption:</em> <p>clicked the update button to update the product<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.44.42image.png.webp?alt=media&token=eae55cf9-f1d6-4033-849e-ecca3d862fdf"/></td></tr>
<tr><td> <em>Caption:</em> <p>the description is now updated when you see the product<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 5: </em> Briefly explain the code process/flow</td></tr>
<tr><td> <em>Response:</em> <p>Upon clicking the edit button, the user is redirected to the edit_item.php page.<br>The id of the product is also passed on to this page. On<br>the page is a form for the product in question. Before the form<br>is displayed, a few fields are ignored via the $ignore array (id, created,<br>modified). The form dynamically generates input fields and headings based on the table<br>columns obtained from the database aside from the ones that were in the<br>$ignore array. The user can input new values in the fields as they<br>please and click the update button to submit the form, in turn calling<br>the update_data() function. This function creates a query to UPDATE the data in<br>the table (Products), establishing the parameters and making sure it only updates the<br>product in the table where the id matches that of the product (only<br>the intended product will be updated). Additionally, some columns are ignored like the<br>id column to ensure nothing happens with the product&#39;s id. The statement is<br>then prepared with the parameters, executed, and a success message displays upon successfully<br>updating the table.<br></p><br></td></tr>
<tr><td> <em>Sub-Task 6: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/49">https://github.com/sameernbutt/IT202-451/pull/49</a> </td></tr>
<tr><td> <em>Sub-Task 7: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://snb22-prod.herokuapp.com/Project/admin/list_items.php">https://snb22-prod.herokuapp.com/Project/admin/list_items.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 5: </em> Product Details Page </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot showing the button (clickable item) that directs the user to the Product Details Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.46.59image.png.webp?alt=media&token=4054835b-900a-440b-9e4d-914bf4114697"/></td></tr>
<tr><td> <em>Caption:</em> <p>screenshot displaying the shop. In the body of each card, the user can<br>click &quot;View Details&quot; to view the details of the given product<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot showing the result of the Product Details Page</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.47.51image.png.webp?alt=media&token=1da59e58-3ff4-4d66-9568-834b56650b1e"/></td></tr>
<tr><td> <em>Caption:</em> <p>clicked &quot;View Details&quot; for the product &quot;submission test 1&quot; which brought me to<br>product details page which is displaying all the necessary information<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain the code process/flow</td></tr>
<tr><td> <em>Response:</em> <p>Upon clicking the &quot;View Details&quot; link, the user is redirected to product_details.php. Additionally,<br>the product id is passed through to product_details.php via&nbsp;<span style="background-color: rgb(30, 30, 30);<br>color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">se($item, </span><span style="font-family:<br>Consolas, &quot;Courier New&quot;, monospace; white-space: pre; color: rgb(206, 145, 120);">&quot;id&quot;</span><span style="background-color: rgb(30, 30,<br>30); color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">)</span>&nbsp;in order<br>for the proper product to be received and displayed, similar to the logic<br>used to edit products for admins. In turn, the product details are displayed<br>similarly to how described for edit_item.php in the sense that all the columns<br>for the corresponding product id from the Products table are selected and put<br>in an array then looped through. The title of the column would first<br>be displayed and then the value. The main difference in the display between<br>this and edit_items.php is that there is no way for the user to<br>edit the product and there are no input fields. Everything is listed out<br>for the user to view. Additionally, the user does not need to be<br>logged in, but if the user is logged in as an admin or<br>shop owner, there will be a link to edit the item at around<br>the bottom of the page.<br><br></p><br></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/54">https://github.com/sameernbutt/IT202-451/pull/54</a> </td></tr>
<tr><td> <em>Sub-Task 5: </em> Add a direct link to heroku prod for this file (can be any specific item)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://snb22-prod.herokuapp.com/Project/shop.php">https://snb22-prod.herokuapp.com/Project/shop.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 6: </em> Add to Cart </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a screenshot of the success message of adding to cart</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T17.27.51image.png.webp?alt=media&token=57f0687d-a26d-462a-ab39-9ec8a6c8cd99"/></td></tr>
<tr><td> <em>Caption:</em> <p>successfully added submission test 1 to cart with message<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a screenshot of the error message of adding to cart (i.e., when not logged in)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T19.25.54image.png.webp?alt=media&token=4430f020-cdf7-42b5-b99e-ddfd76df46d7"/></td></tr>
<tr><td> <em>Caption:</em> <p>Upon clicking &quot;Add to Cart&quot;, there is a message notifying that user needs<br>to be logged in to add items to the cart and redirects them<br>to the login page<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add a screenshot of the Cart table with data in it</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T17.29.54image.png.webp?alt=media&token=136ba1e5-98b4-494c-86c7-2f25f3d0fc83"/></td></tr>
<tr><td> <em>Caption:</em> <p>Cart table with items in it<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Tell how your cart works (1 cart per user; multiple carts per user)</td></tr>
<tr><td> <em>Response:</em> <p>There will be 1 cart per user. Items in the cart will be<br>saved to the cart table and will be associated with the user&#39;s ID.<br></p><br></td></tr>
<tr><td> <em>Sub-Task 5: </em> Explain the process of add to cart</td></tr>
<tr><td> <em>Response:</em> <p>In shop.php, when the user clicks &quot;Add to Cart&quot;, a form is submitted<br>with many inputs (most of which are hidden). First of all, the form<br>has an action attribute set to &quot;cart.php&quot; to redirect the user to cart.php<br>while also passing 2 hidden inputs. The first is the item_id, which is<br>the id of the product from the Products table. Second is the action,<br>which is given the value &quot;add&quot; since we are adding an item to<br>the cart. Then, an inputted value of the user will also be passed,<br>the &quot;desired_quantity&quot;. The user can set this how they choose in any range<br>from 1 to the stock of the product. Once all these values are<br>submitted, they are processed by some code in the cart.php file. First, the<br>action is sanitized and assigned to the $action variable. Afterward, there is a<br>switch statement that runs the case for &quot;add&quot; since that is the action<br>that was submitted. In the case, a SQL query is assigned to a<br>$query variable to INSERT the values for the product in the cart table<br>along with the corresponding user. The Cart table and the columns all all<br>specified in the statement. The VALUES clause comes next and provides the values<br>to be <br>inserted into the respective columns. They are specified using <br>placeholders :iid,<br>:dq, and :uid. The cost for the product is obtained by using SELECT<br>statement for the Products table to select the product by id and get<br>its cost. Additionally, there is an ON DUPLICATE clause of the statement, which<br>essentially would perform an UPDATE rather than an INSERT if the product and<br>its user id were already present in the Carts table (i.e. the item<br>is in the user&#39;s cart). In this case, the quantity of the item<br>would be updated so that the current quantity is incremented by the amount<br>the user wishes the add. The placeholders are then bound with their corresponding<br>values by obtaining data from the form (what and how much the user<br>wants to add to the cart) as well as get_user_id() to get the<br>user and assign the item in the cart to that user. The statement<br>is then prepared and executed, yielding a success statement if the item was<br>added to the cart (inserted into the Carts table) and a user-friendly error<br>message otherwise.<br></p><br></td></tr>
<tr><td> <em>Sub-Task 6: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/50">https://github.com/sameernbutt/IT202-451/pull/50</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 7: </em> User will be able to see their Cart </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshot of the Cart View</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T17.41.05image.png.webp?alt=media&token=6c9b023b-60a7-4114-abc5-a76b01b27f22"/></td></tr>
<tr><td> <em>Caption:</em> <p>Cart page with multiple products in the cart and total. Click the name<br>of the product to see its details<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Explain how the cart is being shown from a code perspective along with the subtotal and total calculations</td></tr>
<tr><td> <em>Response:</em> <p>First, the code fetches the cart items from the database using a SQL<br>query <br>that joins the Products table with the Cart table. This statement selects<br>all the necessary details for each product in the user&#39;s cart only by<br>adding on a WHERE clause that only selects products in the Cart table<br>with the user&#39;s id in the corresponding column. Additionally, to get the subtotal<br>for each product, the unit price of the item is selected along with<br>the desired quantity, and they are multiplied and stored under &quot;subtotal&quot; for the<br>product. Otherwise, all details for the item are fetched as normal with a<br>query. All the results are then stored in an array called $cart. Then,<br>a table is created with 5 column heading cells: Item, Price, Quantity, Subtotal,<br>and Actions. In the table, there is also a $total variable initially set<br>to 0 but will represent the grand subtotal once everything is processed. Afterwards,<br>a foreach loop is utilized to loop through every product in the $cart<br>array. The $total variable is incremented by each product&#39;s subtotal which will eventually<br>give the grand subtotal. Every detail for the product is placed under the<br>corresponding heading. Additionally, the product&#39;s name is displayed as a link so that<br>the user can click on it to view its details. For the quantity,<br>there is a form that can take an input from the user to<br>update the desired quantity. For the actions column, there is another form with<br>the only user input being a submit button (shown as a red x)<br>which is supposed to delete an item. In the end, once the $total<br>variable has added all the subtotals, the grand subtotal is placed to display<br>at the bottom of the table along a form (just a submit button)<br>to clear the cart if the user desires so. Finally, if the $cart<br>array were to be empty (the SQL query yielded nothing for the user&#39;s<br>cart), then the table would display as &quot;No items in cart&quot;.<br></p><br></td></tr>
<tr><td> <em>Sub-Task 3: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/50">https://github.com/sameernbutt/IT202-451/pull/50</a> </td></tr>
<tr><td> <em>Sub-Task 4: </em> Add a direct link to heroku prod for this file</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://snb22-prod.herokuapp.com/Project/cart.php">https://snb22-prod.herokuapp.com/Project/cart.php</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 8: </em> User can update cart quantity </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Show a before and after screenshot of Cart Quantity update</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T17.50.57image.png.webp?alt=media&token=3a91abab-ce3f-48cc-af15-df979d8e74e6"/></td></tr>
<tr><td> <em>Caption:</em> <p>original cart prior to being updated<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T17.51.26image.png.webp?alt=media&token=6fa7aefe-510f-48cf-8866-4ba918e6abba"/></td></tr>
<tr><td> <em>Caption:</em> <p>increased &quot;Another Test&quot; quantity from 1 to 2<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Show a before and after screenshot of setting Cart Quantity to 0</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T17.52.35image.png.webp?alt=media&token=721ba362-34ff-4b11-a186-cee888303c82"/></td></tr>
<tr><td> <em>Caption:</em> <p>original cart<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T17.53.23image.png.webp?alt=media&token=04db19a6-ba48-491b-9e35-0f8faabb9c45"/></td></tr>
<tr><td> <em>Caption:</em> <p>updated cart: set Category Test quantity to 0, in turn removing it from<br>the cart<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Show how a negative quantity is handled</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T17.57.36image.png.webp?alt=media&token=4d8bd149-8098-4dae-8e40-aaa1c7d799dc"/></td></tr>
<tr><td> <em>Caption:</em> <p>User cannot submit a negative value as the input will reject it<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 4: </em> Explain the update process including how a value of 0 and negatives are handled</td></tr>
<tr><td> <em>Response:</em> <p>When the user clicks the Update Quantity button, it will submit the inputted<br>value (rejecting the input if it is negative) through the form with the<br>input name &quot;desired_quantity&quot;. However, there are two other inputs that are not directly<br>inputted by the user but are hidden and utilized so the correct query<br>can be generated. These are the &quot;action&quot; and &quot;cart_id&quot;. The action is submitted<br>as &quot;update&quot;, and cart id is submitted as the id of the item<br>in the cart. In the switch statement, there is an &quot;update&quot; case. In<br>this case, a query is made to UPDATE the quantity of them item<br>in the cart, making sure to get the right item with the right<br>user id and update that item only. The statement is&nbsp;<span style="font-family: Consolas, &quot;Courier<br>New&quot;, monospace; white-space: pre; color: rgb(86, 156, 214);">UPDATE</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(206, 145, 120);"> RM_Cart_Alt </span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(86, 156, 214);">set</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;<br>color: rgb(206, 145, 120);"> desired_quantity </span><span style="background-color: rgb(30, 30, 30); color: rgb(212, 212,<br>212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">=</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(206, 145, 120);"> :dq </span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(86, 156, 214);">WHERE</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;<br>color: rgb(206, 145, 120);"> id </span><span style="background-color: rgb(30, 30, 30); color: rgb(212, 212,<br>212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">=</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(206, 145, 120);"> :cid </span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(86, 156, 214);">AND</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;<br>color: rgb(206, 145, 120);"> user_id </span><span style="background-color: rgb(30, 30, 30); color: rgb(212, 212,<br>212); font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">=</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre; color: rgb(206, 145, 120);"> :</span><span style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space:<br>pre; color: rgb(86, 156, 214);">uid </span>where :dq is the desired quantity, :cid is<br>the cart id, and :uid is the user id. All 3 of these<br>parameters get the values bound to them prior to the execution of the<br>statement by retrieving the inputs from the form as well as get_user_id() for<br>the user id. Then, the statement is prepared and executed. The cart table<br>should be updated to the correct quantity inputted by the user, returning a<br>success message if successful and an error message if otherwise. As for an<br>inputted value of 0, this is handled prior to the switch statement. If<br>the desired quantity is 0, the action of the statement is going to<br>be changed to &quot;delete&quot; instead of &quot;update&quot;. This will execute the delete case,<br>in turn deleting the item from the cart. The logic for deleting an<br>item will be explained in the next deliverable.<br><br></p><br></td></tr>
<tr><td> <em>Sub-Task 5: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/50">https://github.com/sameernbutt/IT202-451/pull/50</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 9: </em> Cart Item Removal </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add a before and after screenshot of deleting a single item from the Cart</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.15.59image.png.webp?alt=media&token=abebdaba-cd98-4851-8e48-2c9d2e8a55fe"/></td></tr>
<tr><td> <em>Caption:</em> <p>original cart<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.16.20image.png.webp?alt=media&token=0c38b71e-1d9a-404b-938e-85236b0247c8"/></td></tr>
<tr><td> <em>Caption:</em> <p>updated cart: clicked the X in the line for the product &quot;brick&quot;, in<br>turn removing the product &quot;brick&quot;<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a before and after screenshot of clearing the cart</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.17.14image.png.webp?alt=media&token=b727dabf-8500-4fa3-bdf0-102da4f96e47"/></td></tr>
<tr><td> <em>Caption:</em> <p>original cart<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T18.17.44image.png.webp?alt=media&token=813184a4-5dc1-43ca-918c-bf83112610e4"/></td></tr>
<tr><td> <em>Caption:</em> <p>updated cart: clicked the &quot;Clear Cart&quot; button to clear all products from the<br>cart, notifying the user that the cart has been emptied<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 3: </em> Briefly explain how each delete process works</td></tr>
<tr><td> <em>Response:</em> <p>Upon clicking &quot;X&quot; button, a form is submitted similar to how the others<br>were for the cart. The hidden inputs here are the id of the<br>item in the card as well as the action, which is submitted as<br>&quot;delete&quot;. This action is then assigned to the $action variable as &quot;delete&quot; and<br>goes on to the switch statement, which has a delete case (this also<br>happens if the desired quantity of a product is updated to 0 as<br>previously mentioned). A DELETE query is then assigned to the $query variable, stating<br>that an item from the table will be deleted if it matches the<br>cart id and user id, ensuring only the intended product is affected. This<br>query is then prepared with parameters having the user id and cart id<br>bound to the correct values and then executed, giving a success statement if<br>successful and an error if not. As for clearing the cart, if the<br>user were to click &quot;Clear Cart&quot;, a form is going to be submitted<br>and passed through similar to deleting an item. However, the action passed is<br>going to be &quot;clear&quot; instead of &quot;delete&quot;, and there will be no id<br>passed. In the case of &quot;clear&quot; in the switch statement, a DELETE statement<br>is prepared, but this time it is deleting everything from the products table<br>with the corresponding user id, which would essentially clear the cart. The query<br>is then prepared, the user id is obtained and bound to the parameter,<br>and it is executed, giving the user the corresponding statement for success or<br>error.<div><br></div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 4: </em> Add related pull request link(s)</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/sameernbutt/IT202-451/pull/50">https://github.com/sameernbutt/IT202-451/pull/50</a> </td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 10: </em> Misc </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="https://user-images.githubusercontent.com/54863474/211707773-e6aef7cb-d5b2-4053-bbb1-b09fc609041e.png"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add screenshots showing which issues are done/closed (project board) Incomplete Issues should not be closed (Milestone2 issues)</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T03.58.54image.png.webp?alt=media&token=ab40a350-295b-4ada-9947-46294f7d8452"/></td></tr>
<tr><td> <em>Caption:</em> <p>Screenshot showing issues marked as done<br></p>
</td></tr>
<tr><td><img width="768px" src="https://firebasestorage.googleapis.com/v0/b/learn-e1de9.appspot.com/o/assignments%2Fsnb22%2F2023-08-04T03.59.17image.png.webp?alt=media&token=f0afff7d-8653-47e1-a371-8e135f329ddd"/></td></tr>
<tr><td> <em>Caption:</em> <p>Scrolled down to show issues not displayed in the previous screenshot. All items<br>have been completed.<br></p>
</td></tr>
</table></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add a link to your herok prod project's login page</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://snb22-prod.herokuapp.com/Project/login.php">https://snb22-prod.herokuapp.com/Project/login.php</a> </td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT202-451-M23/it202-milestone-2-shop-project/grade/snb22" target="_blank">Grading</a></td></tr></table>